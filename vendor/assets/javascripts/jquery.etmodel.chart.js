// Generated by CoffeeScript 1.3.3
(function() {
  var root,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  root = typeof global !== "undefined" && global !== null ? global : window;

  root.Chart = (function() {

    function Chart(options) {
      if (options == null) {
        options = {};
      }
      this.refresh = __bind(this.refresh, this);

      this.render = __bind(this.render, this);

      this.gqueries = __bind(this.gqueries, this);

      console.log("New chart!");
      if (options instanceof Element) {
        this.dom = $(options);
        this._gqueries = this.dom.data('etm-series').split(',');
      } else {
        this._gqueries = options.series;
      }
      this._gqueries = this._gqueries || [];
      console.log(this._gqueries);
    }

    Chart.prototype.gqueries = function() {
      return this._gqueries;
    };

    Chart.prototype.render = function() {
      console.log('rendering');
      this.container = d3.select(this.dom[0]).append('div');
      this.container.selectAll('div.item').data(this._gqueries).enter().append('div').text(function(d) {
        return d;
      });
      return this.rendered = true;
    };

    Chart.prototype.refresh = function(data) {
      if (data == null) {
        data = {};
      }
      if (!this.rendered) {
        this.render();
      }
      return console.log('refreshing');
    };

    return Chart;

  })();

}).call(this);
